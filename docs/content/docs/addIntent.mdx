---
title: addIntent
description: Add intents to your UI2 app
---

`useUI2` allows for adding intents to your UI2 app, by chaining `addIntent` to the useUI2 hook.

For example, it could look like this with 2 intents:

```jsx
import { useUI2 } from "ui2.js";

let { inputValue, onInputChange, onSubmit } = useUI2({
	// config here...
})
	.addIntent("intent1", {
		// config here...
	})
	.addIntent("intent2", {
		// config here...
	});
```

## Options

The first parameter to `addIntent` is simply the intent name. It should be unique, and ideally follow the same pattern as a variable name.

Then, you can pass in an object to `addIntent` with the following properties:

| Value Name    | Type                                                                     | Description                                                                                |
| :------------ | :----------------------------------------------------------------------- | :----------------------------------------------------------------------------------------- |
| `parameters`  | `z.ZodType` (default: `z.ZodObject<any>`)                                | Zod schema defining the parameters for this intent. Learn more [below](#parameters-option) |
| `description` | `string`                                                                 | Description of what the intent does.                                                       |
| `onIntent`    | `(intentCall: IntentCall<T>, input?: string) => void \| CleanupFunction` | Called when this intent is identified. Learn more [below](#onintent-and-onsubmit-options).  |
| `onSubmit`    | `(intentCall: IntentCall<T>, input?: string) => void`                    | Called when this intent is submitted. Learn more [below](#onintent-and-onsubmit-options).   |

### `parameters` Option

Parameters are defined with the Zod library. The `parameters` configuration **must** be a `z.object()`. This schema is used as a type for parameters below in `onIntent` and `onSubmit`, and it's automatically validated by UI2.

Ensure you have the Zod library installed with `npm i zod` and imported with `import { z } from "zod"`.

Here's an example:

```jsx
.addIntent("addTodo", {
		parameters: z.object({
            title: z.string().describe("The title of the todo"),
            priority: z.enum(["low", "medium", "high"]).optional(),
        }),
	});
```

Note how you can use many different features like `enum`, `describe`, `optional`, and more. You can find the full Zod documentation [here](https://zod.dev/).

### `onIntent` and `onSubmit` Options

Both of these have a very similar signature. Both callbacks pass in a `IntentCall` object, as well as a `input` string.

The input string is simply whatever text is in your linked input. `IntentCall` looks like `{ id, parameters }`. `id` is a unique ID for that intent detection/call. It is kept throughout the lifecycle of the intent, from `onIntent` to `onSubmit`. This can be helpful to identify something that is created by the Intent.

`parameters` is an object in the same shape as the `parameters` you defined in the `addIntent` call. It is already validated, so you can use it safely.

`onIntent` has a special feature, with its **cleanup function**. Sometimes, when an intent is detected, you may update the UI of your application, and need a way to undo that UI change when the intent is no longer detected. You can do this with the cleanup function, which is called whenever the current intent (the same name and parameters) is no longer detected.

Note that the **cleanup is not called when the intent is submitted**. You can use this to your advantage.

